<!DOCTYPE html>
<html lang="en">
<head>
    <title>Transfer Now</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="fdl-bootstrap/css/fdl-bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/style.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/custom.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/mobile_frame.css" rel="stylesheet" type="text/css" />  
</head>
<body>
		
<div class="bank_frame">
    <div class="bank_header">
        <div class="header_section">
            <div class="bank_top_menu">
                <ul>
                    <li><a href="javascript:void(0);" class="active" title="Mobile"><img src="assets/images/messsage.jpg" width="28" height="23" border="0" 

/>mobile</a><span> | </span></li>
                    <li><a href="javascript:void(0);" title="Approvals">approvals (1)</a> <span> | </span></li>
                    <li><a href="javascript:void(0);" title="Activity">activity</a> <span> | </span></li>
                    <li><a href="javascript:void(0);" title="Settings">settings</a> <span> | </span></li>
                    <li><a href="javascript:void(0);" title="Log Out">log out</a></li>
                </ul>
            </div>
            <div class="bank_logo">
                <a href="javascript:void(0);" title="MyFinanacial Logo"><img src="assets/images/myfinancial.jpg" width="272" height="58" border="0" alt="My 

Financial, Inc" title="My Financial, Inc"/></a>
            </div>
        </div>            
    </div>
    <div class="clearfix"></div>
    <div class="mobmenu">
        <ul class="menu">
            <li><a href="javascript:void(0);" title="Accounts">Accounts</a></li>
            <li><a href="transfer_funds.html" class="active" title="Transfers">Transfers</a></li>
            <li><a href="javascript:void(0);" title="Wires">Wires</a></li>
            <li><a href="javascript:void(0);" title="Pay Bills">Pay Bills</a></li>
            <li><a href="javascript:void(0);" title="Send with Zelle">Send with Zelle<sup>&reg;</sup></a></li>
            <li><a href="javascript:void(0);" title="Trends">Trends</a></li>
            <li><a href="javascript:void(0);" title="Inovice and Payments">Invoice and Payments</a></li>
        </ul>
    </div>
    <div id="ust">
      <div id="menuac"> <span></span> </div>
    </div>
</div>
    <div class="container">
        <a href="#content" class="sr-only sr-only-focusable" id="top">Skip to Content</a>
        <header class="navbar navbar-default navbar-ext">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-haspopup="true" aria-controls="navbar" aria-label="Navigation" aria-expanded="false">
                    <i class="material-icons" aria-hidden="true">apps</i>
                    Menu
                </button>
                <span class="navbar-brand selected mt15">
                   Activity
                </span>
            </div>


			 <div class="header-one bankLogoSection"> 
                <div class="bank-name col-xs-9 col-md-10">MyFinancial Bank</div>
                <div class="signout col-xs-3 col-md-2"><a href="javascript:void(0);" title="Sign Out">Sign Out</a></div> 
            </div>
            
			
            <nav class="navbar-collapse collapse" id="navbar" aria-expanded="false" role="navigation">
                <ul class="nav navbar-nav">
                    <li><a href="transfer_funds.html" title="Transfer Funds" class="selected">Transfer Funds</a></li>
                    <li><a href="activity.html" title="Activity" >Activity</a></li>
                    <li><a href="preferences.html" title="Preferences" >Preferences</a></li>
                    <li><a href="help.html" title="Help" >Help</a></li>
                </ul>
            </nav>

        </header>
        <section id="content" class="row terms" role="main">
            <div class="col-xs-12 col-md-9">
                <div class="form-group alert-success">
                    <h1 id="EditTrnConfirmed">
                        <i class="material-icons alert-form-success" aria-hidden="true">&#xE86C;</i>
                        <span class="sr-only">Success</span>
                        Edit Remaining Transfers Confirmed 
                    </h1>
                </div>
                <dl class="review-list">                                                           
                    <dt>From  </dt>
                    <dd>TD Bank, Checking, xxxx5432</dd>
                    <dt>To </dt>
                    <dd>MyFinancial, Checking, xxxx1234, $3,475.00</dd>
                    <dt>Reference # </dt>
                    <dd>678876456</dd> 
                    <dt>Send </dt>
                    <dd id="sendDate"></dd>
                    <dt>Start </dt>
					<dd id="startDate">05/03/2017</dd>
                    <dt>Deliver </dt>
                    <dd id="endDate"></dd>
                    <dt>Frequency </dt>
                    <dd id="frequency"></dd>
                    <dt id="duratn">Duration</dt>
                    <dd id="durationText"></dd>
                    <dt id="upto">Up to </dt>
                    <dd id="uptoText"></dd>
                    <dt>Speed </dt>
                    <dd id="deliverySpeed"></dd>
                    <dt>Memo </dt>
                    <dd id="memoMsg"></dd>
                    <!--<dt>Notify </dt>
                    <dd>jack.milagro@suntrust.com</dd>
                    <dt>Message </dt>
                    <dd id="personalMessage"></dd> -->                  
                </dl>
                <dl class="review-list">      
                	<dt>Transfer Amount </dt>
                    <dd id="transferAmount"></dd>
                    <dt>Fees  </dt>
                    <dd id="fees">Free</dd>
                    <dt>Total </dt>
                    <dd id="finalAmount"></dd>
                </dl>
            </div>
       
         <div class="clearfix"></div>
         <div class="custom-btn">
            <button type="button" class="btn btn-primary" title="Done" id="editAllTransferConfirmedTD">Done</button>
          </div>
         </section>
         <footer class="footer footerSection">
            <div id="footerHeader" class="container footer-wrapper">
                <div class="text-center pb10">
                    <span><a href="javascript:void(0);" title="Terms of Services">Terms of Services</a></span>
                    <span>| <a href="javascript:void(0);" title="Privacy Policy">Privacy Policy</a></span>
<span>| <a href="javascript:void(0);" title="Security Policy">Security Policy</a></span>
                </div>
                <div class="text-center"><small>Copyright Â© <span id="currYear"></span> Fiserv Inc. All rights reserved</small></div>
            </div>    
        </footer>
        
       
    </div>
    
    <!-- Loader Starts -->

    <div id="pageLoader" style="display:none;">
        <div id="loader-fade"></div>
        <div id="loading-spinner">
            <div class="spinner-icon" aria-label="loading..."></div>
        </div>
    </div>

<!-- Loader Ends -->
    <!--FDL JS-->
    <script src="fdl-bootstrap/js/jquery.min.js" type="text/javascript"></script>
    <script src="fdl-bootstrap/js/bootstrap.min.js" type="text/javascript"></script>    
    <script src="assets/js/moment.min.js" type="text/javascript"></script> 
    <script>

	/*********************************************************
	*	 Getting URL parameters & values using jquery		 *
	*********************************************************/
			
	$.extend({
		getUrlVars: function(){
			var vars = [], hash;
			var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
			for(var i = 0; i < hashes.length; i++){
				hash = hashes[i].split('=');
				vars.push(hash[0]);
				vars[hash[0]] = hash[1];
			}
			return vars;
		},
		getUrlVar: function(name){
			return $.getUrlVars()[name];
		}
	});
	var allVars = $.getUrlVars();
	
	/* Adding Commas to the Total amount */
	
	$.fn.digits = function(){ 
		return this.each(function(){ 
			$(this).text( $(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,") ); 
		});
	}
	
</script>
<script>	
    $(document).ready(function(){	
				
		/*************************************************************************************************
		* 	  Getting URL parameters & values using jquery and storing it in the hidden input fields,    * 
		* 		 On Submitting the form, values will be passed to the next page using GET Method.	     *	
		*									 															 *
		* Reference : http://jquery-howto.blogspot.in/2009/09/get-url-parameters-values-with-jquery.html *
		*************************************************************************************************/
		
		
		
		/*var delvry = encodeURI($.getUrlVar('deliverySpeed')).replace(/\+/g, " ").replace('%2540', '@').replace('%2528','(').replace('%2529',')').replace(/\+/g,' ').replace(/\%20/g," ");							
		$('#deliverySpeed').html(delvry);	
				
		var amount = encodeURI($.getUrlVar('amount')).replace(/\+/g, " ").replace(/\%2524/g,"$");			
		$('#transferAmount').html("$" + parseFloat(amount).toFixed(2));						
		
		var start = encodeURI($.getUrlVar('sendOn')).replace(/\+/g, " ").replace(/\%252C/g, ",").replace(/\%252F/g ,'/'); 	
		$('#startDate, #sendDate').html(start);
		
		var freq = encodeURI($.getUrlVar('frequency')).replace(/\+/g, " ").replace(/\+/g,' ');	
		$("#frequency").text(freq);
							
		var msg = encodeURI($.getUrlVar('personalMsg')).replace(/\+/g, " ").replace(/\%252C/g, ",").replace(/\%253F/g,"!").replace(/\%2521/g,"?").replace(/\%250D%250A/g," ").replace(/\%2527/g, "'").replace(/\%2540/g, "@");
		$('#personalMessage').html(msg);
		            
        var memo = encodeURI($.getUrlVar('memo')).replace(/\+/g,' ').replace(/\%20/g," ").replace(/\%253F/g,"!").replace(/\%2521/g,"?").replace(/\%250D%250A/g," ").replace(/\%2527/g, "'").replace(/\%2540/g, "@");		
		$('#memoMsg').html(memo);*/		
		
		var transfer = encodeURI($.getUrlVar('transferType')).replace(/\+/g, " ");			
		
		var freq = encodeURI($.getUrlVar('frequency')).replace(/\+/g, " ");	
		$("#frequency").text(freq);
		
		var delvry = encodeURI($.getUrlVar('deliverySpeed')).replace(/\+/g, " ").replace('%2540', '@').replace('%2528','(').replace('%2529',')').replace(/\+/g,' ').replace(/\%20/g," ");							
		$("#deliverySpeed").text(delvry);
		
		var duration = encodeURI($.getUrlVar('duration')).replace(/\+/g, " ");	
		$("#duration").text(duration);						
		
		var amount = encodeURI($.getUrlVar('amount')).replace(/\+/g, " ").replace(/\%2524/g,"$").replace(/\%252C/g,",");			
		$('#transferAmount').html("$" + parseFloat(amount).toFixed(2)).digits();						
		
		var start = encodeURI($.getUrlVar('sendOn')).replace(/\+/g, " ").replace(/\%252C/g, ",").replace(/\%252F/g ,'/'); 	
		$('#startDate, #sendDate').html(start);
			
		var end = encodeURI($.getUrlVar('endOn')).replace(/\+/g, " ").replace(/\%252C/g, ",").replace(/\%252F/g ,'/').replace('%2528','(').replace('%2529',')');				
		$('#endingDate').html(end);
		
		var ending_text = encodeURI($.getUrlVar('endOnText')).replace('%2540', '@').replace('%2528','(').replace('%2529',')').replace(/\+/g,' ').replace(/\%20/g," ");					
		$('#deliverySpeedText').html(ending_text);
				
		var msg = encodeURI($.getUrlVar('personalMsg')).replace(/\+/g,' ').replace(/\%20/g," ").replace(/\%253F/g,"?").replace(/\%2521/g,"!").replace(/\%250D%250A/g," ").replace(/\%2527/g, "'").replace(/\%2540/g, "@").replace(/\%2523/g, "#").replace(/\%2524/g, "$").replace(/\%2525/g, "%").replace(/\%255E/g, "^").replace(/\%2526/g, "&").replace(/\%2528/g, "(").replace(/\%2529/g, ")").replace(/\%252B/g, "+").replace(/\%253D/g, "=");
		$('#personalMessage').html(msg);
		            
        var memo = encodeURI($.getUrlVar('memo')).replace(/\+/g,' ').replace(/\%20/g," ").replace(/\%253F/g,"?").replace(/\%2521/g,"!").replace(/\%250D%250A/g," ").replace(/\%2527/g, "'").replace(/\%2540/g, "@").replace(/\%2523/g, "#").replace(/\%2524/g, "$").replace(/\%2525/g, "%").replace(/\%255E/g, "^").replace(/\%2526/g, "&").replace(/\%2528/g, "(").replace(/\%2529/g, ")").replace(/\%252B/g, "+").replace(/\%253D/g, "=");		
		$('#memoMsg').html(memo);
										
		var final_amt = encodeURI($.getUrlVar('finalAmount')).replace(/\+/g,' ').replace(/\%20/g," ").replace(/\%2524/g," ").replace(/\%24/g," ");
		//$('#finalAmount').html(final_amt);		
				
		
		var total_amt = encodeURI($.getUrlVar('specifiedAmount')).replace(/\+/g, " ").replace(/\%252C/g, ",");						
		var no_transfer = encodeURI($.getUrlVar('noOfTransfers')).replace(/\+/g, " ").replace(/\%252C/g, ",");						
		var rec_email = encodeURI($.getUrlVar('chooseRecipientEmail')).replace(/\+/g, " ").replace(/\%252C/g, ",");	
	
		/*	Setting the Deliver on date based on the Send On date	*/
		
		/****************************************************************************
		*	 			Moment.js for calender calculation for weekdays 			*
		*																			*
		*	Reference : http://momentjs.com/docs/#/displaying/format/				*
		*	Reference : http://jsfiddle.net/dain/5xrr79h0/  						*
		****************************************************************************/
		
		moment.fn.addWorkdays = function (days) {
			var increment = days / Math.abs(days);
			var date = this.clone().add(Math.floor(Math.abs(days) / 5) * 7 * increment, 'days');
			var remaining = days % 5;
			while(remaining != 0) {
			  date.add(increment, 'days');
			  if(date.isoWeekday() !== 6 && date.isoWeekday() !== 7)
				remaining -= increment;
			}
			return date;
		};
		
		var starting_date = moment(start);	
	  	//var zeroday = starting_date.addWorkdays(0).format('MM/DD/YYYY');
		var oneday = starting_date.addWorkdays(1).format('MM/DD/YYYY');
		var threedays = starting_date.addWorkdays(3).format('MM/DD/YYYY');
		
		/*	 setting the fee and the total amount based on the delivery speed	*/
		
		if(delvry == "Standard"){
			$('#fees').html("Free");				
			$('#finalAmount').html("$" + parseFloat(amount).toFixed(2));
			$('#endDate').text(threedays);			
		} else if(delvry == "Next-Day"){			
			var fee = 3;														
			$("#fees").html("$" + fee.toFixed(2));							
			var new_amount = parseFloat(amount.replace(",","")) + parseFloat(fee);											
			$("#finalAmount").html("$" + new_amount.toFixed(2)).digits();			
			$('#endDate').text(oneday);
		}
		
		/*  Calculating the fees and text changes basec on the  frequency and duration */
		
		if((freq!="One Time Transfer")){
			$("#repeat, #repeatText, #duratn, #durationText").show();							
			//$("#endDateName").text("Deliver Date:");
			if(duration == 'Until I cancel'){
				$("#durationText").text(duration);	
				$("#upto, #uptoText").hide();			
			} else if(duration == 'Up to a specified amount'){				
				$("#durationText").text(duration);
				$("#uptoText").text("$250.00");
			} else if(duration == 'Until a specified date'){
				$("#durationText").text(duration);
				$("#uptoText").text(end);				
			} else {
				$("#durationText").text(duration);
				$("#uptoText").text(no_transfer + ' transfers');
			}				
		} else {					
			$("#repeat, #repeatText, #duratn, #durationText").hide();
			$("#sendDate, #endDate").text();
			$("#durationText").text("Until I cancel");	
			$("#upto, #uptoText").hide();					
		}
		
		$("#repeatText").html(freq);
		
		$("#editAllTransferConfirmedTD").click(function(){
			$("#pageLoader").show();	
			setTimeout(function() {			  
				window.location.href="activity.html";
				$("#pageLoader").hide();
			}, 200);
		
		});
		
		$("#currYear").text((new Date).getFullYear() );
		
		$('#menuac').click(function(e){	
			$('#menuac').toggleClass('acik');
			$('.mobmenu').toggleClass('mobmenu-acik');
		});
				
	});
</script>
</body>
</html>