<script src="assets/js/app.js" type="text/javascript"></script>
<script src="assets/js/jquery.validate.min.js" type="text/javascript"></script>           
<script>
	$(document).ready(function(){
		$('#ktpAccount').validate({	
				onsubmit: true,				
				rules: {
					firstName: "required",
					lastName: "required",									
					accountType: { required:true },
					routingNumber: "required",	
					accountNumber: {
						required: true,
						minlength : 3,
						maxlength : 18,
						//equalTo: "#reAcctNo"
					},	
					reenterAcctNum: {
						required: true,
						minlength : 3,
						maxlength : 18,
						equalTo: "#acctNo"
					},					
					recipientEmail: "required"									
				},
				messages: {
					firstName: "Please enter first name",												
					lastName : "Please enter last name",									 
					accountType: {
					  required: "Please select Account type",
					},					 
					routingNumber : "Please enter routing number",
					accountNumber : { 
						required : "Please enter an account number.",
						minlength : "Account number should be minimum 3 digit(s)." ,
						//equalTo : "Account Numbers do not match."
					 },		
					reenterAcctNum : {
						 required : "Please re-enter an account number.",
					 	 minlength : "Account number should be minimum 3 digit(s)." ,
						 equalTo : "Account Numbers do not match." 
					},	
					recipientEmail : "Please enter email id"		
				},
				errorClass: 'alert-message-error',
				errorElement:'p'	
			});			
				
			$("#addKtpAccountMelodi").click(function(){
				if ($('#ktpAccount').valid()){
					$("#pageLoader").show();
					setTimeout(function() {					
					  $('#addNewAccount').load('ajax/other_person_account_success_melodi.html');	
					  $("#pageLoader").hide();				
				}, 300);
				} else {
					return false;
				}                                                                                                      
			});
			
			$("#bankName").hide();
			
			$('#routNo').keyup(function(e){	
				var rout_val = $(this).val();   
				rout_val = rout_val.replace(/[^0-9]/g,'');											
				$(this).val(rout_val);
				
				if(rout_val=="999999999"){
					$("#pageLoader").show();	
					setTimeout(function() {			  
						$("#bankName").show();
						$("#pageLoader").hide();
					}, 300);		
				}else{
					$("#bankName").hide();
				}
			});
			
	});
</script>
<div class="drawer-contents col-xs-12 col-sm-12 col-md-10 pt20 pl20 pr20">
            <div class="drawer-controls">
                <a href="#addNewAccount" id="close-dw" role="button" data-toggle="drawer" aria-controls="addNewAccount" class="btn btn-navigation close" aria-label="Close" title="Close" aria-expanded="true"><span aria-hidden="true"><strong>×</strong></span></a>
            </div>
            <h2>Edit Recipient's Bank Account</h2>
          <form id="ktpAccount" method="get" > 
            <div class="row form-group">
                <div class="col-xs-12 col-sm-8 col-md-7">
                    <label for="firstName">First Name</label>
                    <input type="text" id="firstName" placeholder="" class="form-control" aria-invalid="false" name="firstName" value="Melodi">
                </div>
            </div>
            
            <div class="row form-group">
                <div class="col-xs-12 col-sm-8 col-md-7">
                    <label for="lastName">Last Name</label>
                    <input type="text" id="lastName" placeholder="" class="form-control" aria-invalid="false" name="lastName" value="Miller">
                </div>
            </div>
            
            <div class="row form-group">
                <div class="col-xs-12 col-sm-8 col-md-7">
                    <label for="nickName">Account Nickname (Optional)</label>
                    <input type="text" id="nickName" placeholder="" class="form-control" aria-invalid="false" name="nickName" value="Miller">
                </div>
            </div>
            
            <div class="row form-group">
                <div class="col-xs-12 col-sm-8 col-md-7">
                    <label for="accountType">Account Type</label>
                    <div class="fdl-select">
                        <select id="accountType" class="form-control" aria-required="true" aria-invalid="false" name="accountType">
                            <option value="" disabled>Please Select</option>
                            <option selected>Checking</option>
                            <option>Savings</option>
                            <option>Money Market Checking</option>
                            <option>Money Market Savings</option>                            
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="show-mobile sr-only">
                Sample check that depicts the location of the routing and account number. Contact your financial institution for additional help with your routing and account number.
            </div>
            
            <div class="row form-group hide-mobile">
                <div class="col-xs-12 col-sm-10 col-md-10 pt20">
                    <img src="assets/images/rout_acct_no.png" class="img-responsive" alt="Sample check that depicts the location of the routing and account number. Contact your financial institution for additional help with your routing and account number.">
                </div>
            </div>
            
            <div class="row">
                <div class="form-group col-xs-12 col-sm-5 col-md-5 form-min-480">
                    <label for="routNo">Routing Number</label>
                    <input type="text" id="routNo" placeholder="Enter bank’s routing number" class="form-control" aria-invalid="false" name="routingNumber" maxlength="9" value="061000104">
                    <small class="pull-right">SunTrust Bank</small>
                </div>
                <div class="form-group col-xs-12 col-sm-5 col-md-5 form-min-480">
                    <label for="acctNo">Account Number</label>
                    <input type="text" id="acctNo" placeholder="Enter bank’s account number" class="form-control " aria-invalid="false" name="accountNumber">
    
 
                </div>
            </div>
                        
            <div class="row">
                <div class="form-group col-xs-12 col-sm-5 col-md-5 col-md-offset-5 col-sm-offset-5 col-sm-offset-4  form-min-480 pull-right-480" >
                    <label for="reAcctNo">Re-enter Account Number</label>
                    <input type="text" id="reAcctNo" placeholder="Re-enter bank’s account number" class="form-control" aria-invalid="false" name="reenterAcctNum"> 
                </div>
            </div>
            
             <div class="row form-group">
                <div class="col-xs-12 col-sm-8 col-md-7">
                    <label for="input-recipients-email">Recipient's Email</label>
                    <input type="text" id="input-recipients-email" placeholder="" class="form-control" aria-invalid="false" name="recipientEmail" value="melodi_miller@gmail.com">
                </div>
            </div>
          
            <p>We will only email the recipient details about the transfer </p>
            </form>   
            <div class="custom-btn">
                <button type="button" class="btn btn-secondary mr15" title="Cancel" id="addKtpCancel">Cancel</button>
                <button type="submit" class="btn btn-primary" id="addKtpAccountMelodi" title="Save">Save</button>                
            </div>
         
        </div>
        
        <div id="pageLoader">
        	<div id="loader-fade"></div>
        	<div id="loading-spinner">
				<div class="spinner-icon" aria-label="loading..."></div>
    		</div>
        </div>